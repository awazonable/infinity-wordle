# Infinity Wordle 設計書

## 1. プロジェクト概要

本家Wordleを参考にした、5文字の英単語を当てるゲームです。
GitHub Pagesでホストされ、URLを共有することで同じ問題で遊べる機能を提供します。

## 2. 技術スタック

- フロントエンド: React + TypeScript
- スタイリング: Tailwind CSS
- ビルドツール: Vite
- デプロイ: GitHub Pages

## 3. 主要機能

### 3.1 ゲームプレイ
- 5文字の英単語を当てる
- 最大6回の試行が可能
- 各試行で文字を入力したのち、ENTERの押下によって正誤判定を実施する
  - 入力中は未判定の文字の色をかえないこと
- 単語リストにない単語が入力された場合は当該試行をリセットし再入力を求める
- 各試行で入力された文字は正誤判定後は正解との比較に基づいて色分けされる
  - 緑: 正しい位置に正しい文字
  - 黄: 正しい文字だが位置が異なる
  - グレー: 使用されていない文字

### 3.2 UI/UX
- 5x6のグリッドレイアウト
- グリッドは常に全て表示され、空のパネルによって構成される
- 各文字は独立したパネルでグリッド上に表示
- 入力した文字は最下段に入力される
- 画面下部に固定されたキーボード
- キーボードの各キーも、使用状況に応じて色分けされる

### 3.3 問題生成と共有
- 問題は単語リストからランダムに選択
- 選択された単語はURLパラメータとしてエンコード
- URLを共有することで、同じ問題で遊べる

## 4. データ構造

### 4.1 ゲーム状態
```typescript
interface GameState {
  guesses: string[];        // これまでの推測
  currentGuess: string;     // 現在入力中の推測
  targetWord: string;       // 正解の単語
  gameOver: boolean;        // ゲーム終了フラグ
  message: string;          // ユーザーへのメッセージ
}
```

### 4.2 文字の状態
```typescript
type LetterState = 'correct' | 'present' | 'absent' | 'empty';
```

## 5. コンポーネント構成

### 5.1 主要コンポーネント
- `App`: アプリケーションのルートコンポーネント
- `GameBoard`: 5x6のグリッドを表示
- `Tile`: 個々の文字パネル
- `Keyboard`: 画面下部に固定されたキーボード

### 5.2 カスタムフック
- `useGame`: ゲームロジックの管理
- `useWordValidation`: 単語の検証

## 6. URL設計

### 6.1 パラメータ
- `answer`: 正解の単語をエンコードした文字列
  - 例: `https://awazonable.github.io/infinity-wordle/?answer=CLOUD`

### 6.2 エンコーディング
- Base64エンコーディングを使用
- 単語をエンコードしてURLに含める
- デコードして正解の単語を復元

## 7. 実装の優先順位

1. グリッドレイアウトの実装
2. キーボードの固定位置表示
3. 文字の状態管理と色分け
4. URLパラメータによる問題共有
5. 結果の永続化

## 8. 今後の拡張性

- 統計情報の追加
- ダークモード/ライトモード
- 多言語対応
- カスタム単語リスト
- ソーシャルシェア機能の強化 